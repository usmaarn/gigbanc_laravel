var se=Object.defineProperty;var Tt=e=>{throw TypeError(e)};var ie=(e,t,r)=>t in e?se(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var kt=(e,t,r)=>ie(e,typeof t!="symbol"?t+"":t,r),yt=(e,t,r)=>t.has(e)||Tt("Cannot "+r);var n=(e,t,r)=>(yt(e,t,"read from private field"),r?r.call(e):t.get(e)),O=(e,t,r)=>t.has(e)?Tt("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),g=(e,t,r,s)=>(yt(e,t,"write to private field"),s?s.call(e,r):t.set(e,r),r),A=(e,t,r)=>(yt(e,t,"access private method"),r);import{b as Vt,r as P,R as D,q as Ht,j as u}from"./app-SfyubXed.js";import{S as ae,r as F,s as gt,a as ht,n as ne,i as Lt,b as _t,t as oe,f as ce,c as le,d as It,e as Gt,u as ue,I as vt,A as he}from"./AuthenticatedLayout-DuIw_Ppq.js";import{C as dt,a as ft,b as de,c as fe,e as pe}from"./card-DN-b0Ab7.js";import{u as me,i as ye,D as ve,f as be,L as bt,a as ut,C as ge,A as xe,b as st,c as Ae,d as xt,e as Se,g as Ce,G as Oe,h as qt,j as Ft,E as je,k as Pe,X as we,Y as De,l as Ee,m as Bt,n as Re,o as Ne,p as Te,q as ke,B as Le}from"./BarChartComponent-DS1mu0w3.js";import{S as _e}from"./SubscribersTable-CAYkzdl0.js";import{D as Ie}from"./DataTable-BxgKzt0G.js";import"./popover-DvR71g7c.js";import"./input-BRVqSey7.js";import{c as Qt}from"./button-BxDTXzu5.js";import"./UserDropdown-26KKhmEv.js";import"./chevron-right-CSYhXZlK.js";import"./index-BdQq_4o_.js";import"./separator-YStZhdJy.js";import"./datetime-DcQSltNB.js";import"./index-D_OanM0m.js";const{Axios:Br,AxiosError:Ut,CanceledError:Qr,isCancel:Ur,CancelToken:Mr,VERSION:Wr,all:Kr,Cancel:$r,isAxiosError:zr,spread:Vr,toFormData:Hr,AxiosHeaders:Gr,HttpStatusCode:qr,formToJSON:Xr,getAdapter:Yr,mergeConfig:Jr}=Vt;var E,f,nt,j,$,X,I,ot,Y,J,z,V,W,Z,v,it,At,St,Ct,Ot,jt,Pt,wt,Xt,zt,Fe=(zt=class extends ae{constructor(t,r){super();O(this,v);O(this,E);O(this,f);O(this,nt);O(this,j);O(this,$);O(this,X);O(this,I);O(this,ot);O(this,Y);O(this,J);O(this,z);O(this,V);O(this,W);O(this,Z,new Set);this.options=r,g(this,E,t),g(this,I,null),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(n(this,f).addObserver(this),Mt(n(this,f),this.options)?A(this,v,it).call(this):this.updateResult(),A(this,v,Ot).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Dt(n(this,f),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Dt(n(this,f),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,A(this,v,jt).call(this),A(this,v,Pt).call(this),n(this,f).removeObserver(this)}setOptions(t,r){const s=this.options,i=n(this,f);if(this.options=n(this,E).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof F(this.options.enabled,n(this,f))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");A(this,v,wt).call(this),n(this,f).setOptions(this.options),s._defaulted&&!gt(this.options,s)&&n(this,E).getQueryCache().notify({type:"observerOptionsUpdated",query:n(this,f),observer:this});const o=this.hasListeners();o&&Wt(n(this,f),i,this.options,s)&&A(this,v,it).call(this),this.updateResult(r),o&&(n(this,f)!==i||F(this.options.enabled,n(this,f))!==F(s.enabled,n(this,f))||ht(this.options.staleTime,n(this,f))!==ht(s.staleTime,n(this,f)))&&A(this,v,At).call(this);const a=A(this,v,St).call(this);o&&(n(this,f)!==i||F(this.options.enabled,n(this,f))!==F(s.enabled,n(this,f))||a!==n(this,W))&&A(this,v,Ct).call(this,a)}getOptimisticResult(t){const r=n(this,E).getQueryCache().build(n(this,E),t),s=this.createResult(r,t);return Qe(this,s)&&(g(this,j,s),g(this,X,this.options),g(this,$,n(this,f).state)),s}getCurrentResult(){return n(this,j)}trackResult(t,r){const s={};return Object.keys(t).forEach(i=>{Object.defineProperty(s,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),r==null||r(i),t[i])})}),s}trackProp(t){n(this,Z).add(t)}getCurrentQuery(){return n(this,f)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=n(this,E).defaultQueryOptions(t),s=n(this,E).getQueryCache().build(n(this,E),r);return s.isFetchingOptimistic=!0,s.fetch().then(()=>this.createResult(s,r))}fetch(t){return A(this,v,it).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),n(this,j)))}createResult(t,r){var _;const s=n(this,f),i=this.options,o=n(this,j),a=n(this,$),c=n(this,X),d=t!==s?t.state:n(this,nt),{state:p}=t;let l={...p},b=!1,m;if(r._optimisticResults){const C=this.hasListeners(),U=!C&&Mt(t,r),K=C&&Wt(t,s,r,i);(U||K)&&(l={...l,...le(p.data,t.options)}),r._optimisticResults==="isRestoring"&&(l.fetchStatus="idle")}let{error:y,errorUpdatedAt:x,status:S}=l;if(r.select&&l.data!==void 0)if(o&&l.data===(a==null?void 0:a.data)&&r.select===n(this,ot))m=n(this,Y);else try{g(this,ot,r.select),m=r.select(l.data),m=It(o==null?void 0:o.data,m,r),g(this,Y,m),g(this,I,null)}catch(C){g(this,I,C)}else m=l.data;if(r.placeholderData!==void 0&&m===void 0&&S==="pending"){let C;if(o!=null&&o.isPlaceholderData&&r.placeholderData===(c==null?void 0:c.placeholderData))C=o.data;else if(C=typeof r.placeholderData=="function"?r.placeholderData((_=n(this,J))==null?void 0:_.state.data,n(this,J)):r.placeholderData,r.select&&C!==void 0)try{C=r.select(C),g(this,I,null)}catch(U){g(this,I,U)}C!==void 0&&(S="success",m=It(o==null?void 0:o.data,C,r),b=!0)}n(this,I)&&(y=n(this,I),m=n(this,Y),x=Date.now(),S="error");const w=l.fetchStatus==="fetching",R=S==="pending",B=S==="error",Q=R&&w,N=m!==void 0;return{status:S,fetchStatus:l.fetchStatus,isPending:R,isSuccess:S==="success",isError:B,isInitialLoading:Q,isLoading:Q,data:m,dataUpdatedAt:l.dataUpdatedAt,error:y,errorUpdatedAt:x,failureCount:l.fetchFailureCount,failureReason:l.fetchFailureReason,errorUpdateCount:l.errorUpdateCount,isFetched:l.dataUpdateCount>0||l.errorUpdateCount>0,isFetchedAfterMount:l.dataUpdateCount>d.dataUpdateCount||l.errorUpdateCount>d.errorUpdateCount,isFetching:w,isRefetching:w&&!R,isLoadingError:B&&!N,isPaused:l.fetchStatus==="paused",isPlaceholderData:b,isRefetchError:B&&N,isStale:Nt(t,r),refetch:this.refetch}}updateResult(t){const r=n(this,j),s=this.createResult(n(this,f),this.options);if(g(this,$,n(this,f).state),g(this,X,this.options),n(this,$).data!==void 0&&g(this,J,n(this,f)),gt(s,r))return;g(this,j,s);const i={},o=()=>{if(!r)return!0;const{notifyOnChangeProps:a}=this.options,c=typeof a=="function"?a():a;if(c==="all"||!c&&!n(this,Z).size)return!0;const h=new Set(c??n(this,Z));return this.options.throwOnError&&h.add("error"),Object.keys(n(this,j)).some(d=>{const p=d;return n(this,j)[p]!==r[p]&&h.has(p)})};(t==null?void 0:t.listeners)!==!1&&o()&&(i.listeners=!0),A(this,v,Xt).call(this,{...i,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&A(this,v,Ot).call(this)}},E=new WeakMap,f=new WeakMap,nt=new WeakMap,j=new WeakMap,$=new WeakMap,X=new WeakMap,I=new WeakMap,ot=new WeakMap,Y=new WeakMap,J=new WeakMap,z=new WeakMap,V=new WeakMap,W=new WeakMap,Z=new WeakMap,v=new WeakSet,it=function(t){A(this,v,wt).call(this);let r=n(this,f).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(ne)),r},At=function(){A(this,v,jt).call(this);const t=ht(this.options.staleTime,n(this,f));if(Lt||n(this,j).isStale||!_t(t))return;const s=oe(n(this,j).dataUpdatedAt,t)+1;g(this,z,setTimeout(()=>{n(this,j).isStale||this.updateResult()},s))},St=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(n(this,f)):this.options.refetchInterval)??!1},Ct=function(t){A(this,v,Pt).call(this),g(this,W,t),!(Lt||F(this.options.enabled,n(this,f))===!1||!_t(n(this,W))||n(this,W)===0)&&g(this,V,setInterval(()=>{(this.options.refetchIntervalInBackground||ce.isFocused())&&A(this,v,it).call(this)},n(this,W)))},Ot=function(){A(this,v,At).call(this),A(this,v,Ct).call(this,A(this,v,St).call(this))},jt=function(){n(this,z)&&(clearTimeout(n(this,z)),g(this,z,void 0))},Pt=function(){n(this,V)&&(clearInterval(n(this,V)),g(this,V,void 0))},wt=function(){const t=n(this,E).getQueryCache().build(n(this,E),this.options);if(t===n(this,f))return;const r=n(this,f);g(this,f,t),g(this,nt,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},Xt=function(t){Gt.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(n(this,j))}),n(this,E).getQueryCache().notify({query:n(this,f),type:"observerResultsUpdated"})})},zt);function Be(e,t){return F(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Mt(e,t){return Be(e,t)||e.state.data!==void 0&&Dt(e,t,t.refetchOnMount)}function Dt(e,t,r){if(F(t.enabled,e)!==!1){const s=typeof r=="function"?r(e):r;return s==="always"||s!==!1&&Nt(e,t)}return!1}function Wt(e,t,r,s){return(e!==t||F(s.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Nt(e,r)}function Nt(e,t){return F(t.enabled,e)!==!1&&e.isStaleByTime(ht(t.staleTime,e))}function Qe(e,t){return!gt(e.getCurrentResult(),t)}var Yt=P.createContext(!1),Ue=()=>P.useContext(Yt);Yt.Provider;function Me(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var We=P.createContext(Me()),Ke=()=>P.useContext(We);function $e(e,t){return typeof e=="function"?e(...t):!!e}var ze=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},Ve=e=>{P.useEffect(()=>{e.clearReset()},[e])},He=({result:e,errorResetBoundary:t,throwOnError:r,query:s})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&$e(r,[e.error,s]),Ge=e=>{e.suspense&&(typeof e.staleTime!="number"&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},qe=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Xe=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function Ye(e,t,r){var d,p,l,b;const s=ue(),i=Ue(),o=Ke(),a=s.defaultQueryOptions(e);(p=(d=s.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||p.call(d,a),a._optimisticResults=i?"isRestoring":"optimistic",Ge(a),ze(a,o),Ve(o);const[c]=P.useState(()=>new t(s,a)),h=c.getOptimisticResult(a);if(P.useSyncExternalStore(P.useCallback(m=>{const y=i?()=>{}:c.subscribe(Gt.batchCalls(m));return c.updateResult(),y},[c,i]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),P.useEffect(()=>{c.setOptions(a,{listeners:!1})},[a,c]),qe(a,h))throw Xe(a,c,o);if(He({result:h,errorResetBoundary:o,throwOnError:a.throwOnError,query:s.getQueryCache().get(a.queryHash)}))throw h.error;return(b=(l=s.getDefaultOptions().queries)==null?void 0:l._experimental_afterQuery)==null||b.call(l,a,h),a.notifyOnChangeProps?h:c.trackResult(h)}function Je(e,t){return Ye(e,Fe)}var Ze=["type","layout","connectNulls","ref"];function tt(e){"@babel/helpers - typeof";return tt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tt(e)}function tr(e,t){if(e==null)return{};var r=er(e,t),s,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)s=o[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function er(e,t){if(e==null)return{};var r={},s=Object.keys(e),i,o;for(o=0;o<s.length;o++)i=s[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function at(){return at=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},at.apply(this,arguments)}function Kt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,s)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kt(Object(r),!0).forEach(function(s){L(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kt(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function q(e){return ar(e)||ir(e)||sr(e)||rr()}function rr(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sr(e,t){if(e){if(typeof e=="string")return Et(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Et(e,t)}}function ir(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ar(e){if(Array.isArray(e))return Et(e)}function Et(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function nr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $t(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,Zt(s.key),s)}}function or(e,t,r){return t&&$t(e.prototype,t),r&&$t(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function cr(e,t,r){return t=pt(t),lr(e,Jt()?Reflect.construct(t,r||[],pt(e).constructor):t.apply(e,r))}function lr(e,t){if(t&&(tt(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return M(e)}function Jt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Jt=function(){return!!e})()}function pt(e){return pt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pt(e)}function M(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ur(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rt(e,t)}function Rt(e,t){return Rt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},Rt(e,t)}function L(e,t,r){return t=Zt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zt(e){var t=hr(e,"string");return tt(t)=="symbol"?t:String(t)}function hr(e,t){if(tt(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(tt(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ct=function(e){ur(t,e);function t(){var r;nr(this,t);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=cr(this,t,[].concat(i)),L(M(r),"state",{isAnimationFinished:!0,totalLength:0}),L(M(r),"generateSimpleStrokeDasharray",function(a,c){return"".concat(c,"px ").concat(a-c,"px")}),L(M(r),"getStrokeDasharray",function(a,c,h){var d=h.reduce(function(w,R){return w+R});if(!d)return r.generateSimpleStrokeDasharray(c,a);for(var p=Math.floor(a/d),l=a%d,b=c-a,m=[],y=0,x=0;y<h.length;x+=h[y],++y)if(x+h[y]>l){m=[].concat(q(h.slice(0,y)),[l-x]);break}var S=m.length%2===0?[0,b]:[b];return[].concat(q(t.repeat(h,p)),q(m),S).map(function(w){return"".concat(w,"px")}).join(", ")}),L(M(r),"id",me("recharts-line-")),L(M(r),"pathRef",function(a){r.mainCurve=a}),L(M(r),"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),L(M(r),"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return or(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var s=this.getTotalLength();this.setState({totalLength:s})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var s=this.getTotalLength();s!==this.state.totalLength&&this.setState({totalLength:s})}}},{key:"getTotalLength",value:function(){var s=this.mainCurve;try{return s&&s.getTotalLength&&s.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(s,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.points,c=o.xAxis,h=o.yAxis,d=o.layout,p=o.children,l=be(p,je);if(!l)return null;var b=function(x,S){return{x:x.x,y:x.y,value:x.value,errorVal:qt(x.payload,S)}},m={clipPath:s?"url(#clipPath-".concat(i,")"):null};return D.createElement(bt,m,l.map(function(y){return D.cloneElement(y,{key:"bar-".concat(y.props.dataKey),data:a,xAxis:c,yAxis:h,layout:d,dataPointFormatter:b})}))}},{key:"renderDots",value:function(s,i,o){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var c=this.props,h=c.dot,d=c.points,p=c.dataKey,l=ut(this.props,!1),b=ut(h,!0),m=d.map(function(x,S){var w=k(k(k({key:"dot-".concat(S),r:3},l),b),{},{value:x.value,dataKey:p,cx:x.x,cy:x.y,index:S,payload:x.payload});return t.renderDotItem(h,w)}),y={clipPath:s?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return D.createElement(bt,at({className:"recharts-line-dots",key:"dots"},y),m)}},{key:"renderCurveStatically",value:function(s,i,o,a){var c=this.props,h=c.type,d=c.layout,p=c.connectNulls;c.ref;var l=tr(c,Ze),b=k(k(k({},ut(l,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:s},a),{},{type:h,layout:d,connectNulls:p});return D.createElement(ge,at({},b,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(s,i){var o=this,a=this.props,c=a.points,h=a.strokeDasharray,d=a.isAnimationActive,p=a.animationBegin,l=a.animationDuration,b=a.animationEasing,m=a.animationId,y=a.animateNewValues,x=a.width,S=a.height,w=this.state,R=w.prevPoints,B=w.totalLength;return D.createElement(xe,{begin:p,duration:l,isActive:d,easing:b,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(Q){var N=Q.t;if(R){var H=R.length/c.length,_=c.map(function(T,mt){var et=Math.floor(mt*H);if(R[et]){var rt=R[et],G=st(rt.x,T.x),te=st(rt.y,T.y);return k(k({},T),{},{x:G(N),y:te(N)})}if(y){var ee=st(x*2,T.x),re=st(S/2,T.y);return k(k({},T),{},{x:ee(N),y:re(N)})}return k(k({},T),{},{x:T.x,y:T.y})});return o.renderCurveStatically(_,s,i)}var C=st(0,B),U=C(N),K;if(h){var lt="".concat(h).split(/[,\s]+/gim).map(function(T){return parseFloat(T)});K=o.getStrokeDasharray(U,B,lt)}else K=o.generateSimpleStrokeDasharray(B,U);return o.renderCurveStatically(c,s,i,{strokeDasharray:K})})}},{key:"renderCurve",value:function(s,i){var o=this.props,a=o.points,c=o.isAnimationActive,h=this.state,d=h.prevPoints,p=h.totalLength;return c&&a&&a.length&&(!d&&p>0||!Ae(d,a))?this.renderCurveWithAnimation(s,i):this.renderCurveStatically(a,s,i)}},{key:"render",value:function(){var s,i=this.props,o=i.hide,a=i.dot,c=i.points,h=i.className,d=i.xAxis,p=i.yAxis,l=i.top,b=i.left,m=i.width,y=i.height,x=i.isAnimationActive,S=i.id;if(o||!c||!c.length)return null;var w=this.state.isAnimationFinished,R=c.length===1,B=Qt("recharts-line",h),Q=d&&d.allowDataOverflow,N=p&&p.allowDataOverflow,H=Q||N,_=xt(S)?this.id:S,C=(s=ut(a,!1))!==null&&s!==void 0?s:{r:3,strokeWidth:2},U=C.r,K=U===void 0?3:U,lt=C.strokeWidth,T=lt===void 0?2:lt,mt=Se(a)?a:{},et=mt.clipDot,rt=et===void 0?!0:et,G=K*2+T;return D.createElement(bt,{className:B},Q||N?D.createElement("defs",null,D.createElement("clipPath",{id:"clipPath-".concat(_)},D.createElement("rect",{x:Q?b:b-m/2,y:N?l:l-y/2,width:Q?m:m*2,height:N?y:y*2})),!rt&&D.createElement("clipPath",{id:"clipPath-dots-".concat(_)},D.createElement("rect",{x:b-G/2,y:l-G/2,width:m+G,height:y+G}))):null,!R&&this.renderCurve(H,_),this.renderErrorBar(H,_),(R||a)&&this.renderDots(H,rt,_),(!x||w)&&Ce.renderCallByParent(this.props,c))}}],[{key:"getDerivedStateFromProps",value:function(s,i){return s.animationId!==i.prevAnimationId?{prevAnimationId:s.animationId,curPoints:s.points,prevPoints:i.curPoints}:s.points!==i.curPoints?{curPoints:s.points}:null}},{key:"repeat",value:function(s,i){for(var o=s.length%2!==0?[].concat(q(s),[0]):s,a=[],c=0;c<i;++c)a=[].concat(q(a),q(o));return a}},{key:"renderDotItem",value:function(s,i){var o;if(D.isValidElement(s))o=D.cloneElement(s,i);else if(ye(s))o=s(i);else{var a=Qt("recharts-line-dot",typeof s!="boolean"?s.className:"");o=D.createElement(ve,at({},i,{className:a}))}return o}}]),t}(P.PureComponent);L(ct,"displayName","Line");L(ct,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Oe.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});L(ct,"getComposedData",function(e){var t=e.props,r=e.xAxis,s=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,a=e.dataKey,c=e.bandSize,h=e.displayedData,d=e.offset,p=t.layout,l=h.map(function(b,m){var y=qt(b,a);return p==="horizontal"?{x:Ft({axis:r,ticks:i,bandSize:c,entry:b,index:m}),y:xt(y)?null:s.scale(y),value:y,payload:b}:{x:xt(y)?null:r.scale(y),y:Ft({axis:s,ticks:o,bandSize:c,entry:b,index:m}),value:y,payload:b}});return k({points:l,layout:p},d)});var dr=Pe({chartName:"LineChart",GraphicalChild:ct,axisComponents:[{axisType:"xAxis",AxisComp:we},{axisType:"yAxis",AxisComp:De}],formatAxisMap:Ee});function fr(){const{ambassadorsCount:e,subscribersCount:t,payouts:r}=Ht().props;return u.jsxs("div",{className:"grid sm:grid-cols-2 md:grid-cols-3 gap-x-5 gap-y-1",children:[u.jsx(dt,{children:u.jsxs(ft,{className:"p-5 flex items-center",children:[u.jsx(vt,{icon:"tabler:currency-naira",className:"text-6xl mr-5"}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("h3",{className:"text-sm capitalize font-semibold",children:"Total Payouts"}),u.jsxs("h2",{className:"text-2xl font-bold",children:["â‚¦",r]})]})]})}),u.jsx(dt,{children:u.jsxs(ft,{className:"p-5 flex items-center",children:[u.jsx(vt,{icon:"gravity-ui:person-worker",className:"text-6xl mr-5"}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("h3",{className:"text-sm capitalize font-semibold",children:"Ambassadors"}),u.jsx("h2",{className:"text-2xl font-bold",children:e})]})]})}),u.jsx(dt,{children:u.jsxs(ft,{className:"p-5 flex items-center",children:[u.jsx(vt,{icon:"gravity-ui:person-worker",className:"text-6xl mr-5"}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("h3",{className:"text-sm capitalize font-semibold",children:"Subscribers"}),u.jsx("h2",{className:"text-2xl font-bold",children:t})]})]})})]})}function pr(){const{topAmbassadors:e}=Ht().props,t=e??[];P.useMemo(()=>t,[]);const r=[{header:"Rank",accessorKey:"id",cell:s=>s.row.index+1},{header:"Name",accessorFn:s=>`${s.firstName} ${s.lastName}`},{header:"Email",accessorKey:"emailAddress"},{header:"Subscribers",accessorFn:s=>s.subscribers.total},{header:"Verified",accessorFn:s=>s.subscribers.verified},{header:"Processing",accessorFn:s=>s.subscribers.processing}];return u.jsx(Ie,{data:t,columns:r,title:"Top Ambassadors"})}const mr={appName:"Laravel",appUrl:"https://growthacy.test"};class yr{constructor(){kt(this,"http",Vt.create({baseURL:mr.appUrl+"/api/v1"}))}withToken(){return this}async get(t,r={}){const s=await this.http.get(t,r).catch(i=>{var o;i instanceof Ut?console.log((o=i==null?void 0:i.response)==null?void 0:o.data):console.log(i==null?void 0:i.message)});return(s==null?void 0:s.data)??null}post(t,r={},s={}){return this.processResponse(this.http.post(t,r,s))}put(t,r,s={}){return this.processResponse(this.http.put(t,r,s))}patch(t,r,s={}){return this.http.patch(t,r,s)}delete(t,r={}){return this.http.delete(t,r)}async processResponse(t){let r=null;const s=await t.catch(i=>{var o,a,c,h,d;console.log(i==null?void 0:i.response),r={message:"an error occurred"},i instanceof Ut&&(((o=i==null?void 0:i.response)==null?void 0:o.status)==422?r=(c=(a=i==null?void 0:i.response)==null?void 0:a.data)==null?void 0:c.errors:r=((d=(h=i==null?void 0:i.response)==null?void 0:h.data)==null?void 0:d.message)??{message:"an error occurred"})});return r!=null?{data:null,success:!1,errors:r}:{success:!0,errors:r,data:s==null?void 0:s.data}}}const vr=new yr;async function br(){return await vr.get(route("frontend.subscribers.index"))}const gr={desktop:{label:"Subscribers",color:"hsl(var(--chart-1))"}};function xr({title:e}){const[t,r]=P.useState(new Date),[s,i]=P.useState(new Date),[o,a]=P.useState([]),{data:c,isLoading:h}=Je({queryKey:["subscribers"],queryFn:()=>br()});return P.useEffect(()=>{let d=null;Array.isArray(c)&&c.length>0&&(d=Object.groupBy(c,({createdAt:p})=>p),d=Object.entries(d).map(([p,l])=>({date:new Date(p).toLocaleDateString(),count:l.length}))),a(d),console.log(d)},[t,s]),u.jsxs(dt,{children:[u.jsxs(de,{className:"md:flex-row gap-5 items-center",children:[u.jsxs("div",{className:"",children:[u.jsx(fe,{className:"capitalize",children:e}),u.jsx(pe,{})]}),u.jsxs("div",{className:"flex gap-3 justify-end flex-grow",children:[u.jsx(Bt,{}),u.jsx(Bt,{})]})]}),u.jsx(ft,{children:h?"Loading....":u.jsx(Ar,{data:o})})]})}function Ar({data:e}){return console.log(e),u.jsx(Re,{config:gr,children:u.jsxs(dr,{accessibilityLayer:!0,data:e,margin:{left:12,right:12},children:[u.jsx(Ne,{vertical:!1}),u.jsx(Te,{cursor:!1,content:u.jsx(ke,{hideLabel:!0})}),u.jsx(ct,{dataKey:"count",type:"linear",stroke:"var(--color-desktop)",strokeWidth:2,dot:!1})]})})}function Zr({recentSubscribers:e}){return u.jsx(he,{children:u.jsxs("section",{className:"space-y-5",children:[u.jsx(fr,{}),u.jsxs("section",{className:"grid md:grid-cols-2 gap-2",children:[u.jsx(xr,{title:"Subscriptions"}),u.jsx(Le,{title:"Onboarded"})]}),u.jsx(_e,{subscribers:e,title:"Recent Subscribers"}),u.jsx(pr,{})]})})}export{Zr as default};
